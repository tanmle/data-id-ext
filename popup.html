<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Data ID Extractor</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <div class="logo">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <polyline points="16 18 22 12 16 6"></polyline>
            <polyline points="8 6 2 12 8 18"></polyline>
          </svg>
        </div>
        <h1>Data ID Extractor</h1>
      </div>
      <button id="btn-settings" class="icon-btn" title="Settings">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path
            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
          </path>
        </svg>
      </button>
    </header>

    <!-- Settings Panel (collapsible) -->
    <div id="settings-panel" class="settings-panel hidden">
      <div class="setting-group">
        <label for="attribute-name">Data Attribute Name</label>
        <div class="input-row">
          <input type="text" id="attribute-name" placeholder="data-element-id" spellcheck="false">
          <button id="btn-save-settings" class="btn btn-sm btn-primary">Save</button>
        </div>
        <p class="hint">The HTML attribute to scan for (e.g. <code>data-element-id</code>, <code>data-testid</code>)</p>
      </div>

      <div class="setting-group" style="margin-top: 12px;">
        <label>Element Types to Scan</label>
        <div id="type-chips" class="type-chips"></div>
        <div class="input-row">
          <input type="text" id="type-input" placeholder="Add type (e.g. select, a, div)" spellcheck="false">
          <button id="btn-add-type" class="btn btn-sm btn-outline">Add</button>
        </div>
        <p class="hint">Only scan these HTML element types. Leave empty to scan all.</p>
      </div>

      <div class="setting-group" style="margin-top: 10px;">
        <p class="hint">ðŸ’¡ <strong>Tip:</strong> Right-click any element on the page â†’ <em>"Copy as TypeScript
            property"</em></p>
      </div>
    </div>

    <!-- Action bar -->
    <div class="action-bar">
      <button id="btn-scan" class="btn btn-primary btn-action">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        Scan Page
      </button>
      <button id="btn-copy-all" class="btn btn-accent btn-action" disabled>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
          stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
        Copy All
      </button>
      <button id="btn-pick" class="btn btn-outline btn-action" title="Click an element on the page to copy it">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path>
          <path d="M13 13l6 6"></path>
        </svg>
        Pick
      </button>
    </div>

    <!-- Search + Select All -->
    <div id="search-bar" class="search-bar hidden">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
      <input type="text" id="search-input" placeholder="Filter elements...">
      <span id="element-count" class="badge">0</span>
      <label class="select-all-toggle" title="Check / Uncheck All">
        <input type="checkbox" id="check-all" checked>
        <span class="select-all-label">All</span>
      </label>
    </div>

    <!-- Element list -->
    <div id="element-list" class="element-list">
      <div class="empty-state">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round" opacity="0.4">
          <polyline points="16 18 22 12 16 6"></polyline>
          <polyline points="8 6 2 12 8 18"></polyline>
        </svg>
        <p>Click <strong>Scan Page</strong> to find elements</p>
        <p class="hint">or use <strong>Pick</strong> to select one</p>
      </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast hidden">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
        stroke-linecap="round" stroke-linejoin="round">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
      <span id="toast-message">Copied!</span>
    </div>
  </div>

  <script src="popup.js"></script>
</body>

</html>